{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block content %}
<div class="container">
    <header class="navbar">
        <h1>Society</h1>
        <nav>
            {% if user.is_authenticated %}
                <button type="button" class="create-post-modal-toggle">Create Post</button>
                {{ user.username }}
                <a href="/logout">Logout</a>  
            {% else %}
                <a href="/login">Login</a>
                <a href="/register">Register</a>
            {% endif %}
        </nav>
    </header>

    <div class="modal create-post-modal">
        <form method="POST">
            <header>
                <h3>Post</h3>
                <button type="button" class="button-clear create-post-modal-toggle">close</button>
            </header>
            {% csrf_token %}
            {{ create_post_form.as_div }}
    
            <input type="submit" value="Create">
        </form>
    </div>

    <div class="posts-container">
        {% for post in posts %}
            <div class="post">
                <h3>{{ post.title }}</h3>
                <p>{{ post.content }}</p>
                <div>
                    <a href="#">@{{ post.user }}</a>
                    <span>{{ post.created }}</span>
                </div>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}